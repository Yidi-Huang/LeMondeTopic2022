# Séance 8

## 29 mars 2023
**ZHANG** : Le commentaire de l'exercice reçu! Le prof nous conseille d'enlever le doublon du code pour *extraire_deux.py*. Il nous faudrait alors appeler la première fonction déjà établie.

## 30 mars 2023

**HUANG** : Pendant la séance, le prof nous a demandé de corriger certaines modalités dans notre programmes python, notamment sur l'affichage du programme, avant de procéder à l'étape suivante.

Ainsi, pour les exercices 1 (extraire les titres et les descriptions d'un seul fichier XML) et 2 (extraire les mêmes informations d'un dossier arboré), j'ai fait respectivement des modifications :

- Pour ex1_etree.py, pour obtenir le résultat de manière propre, j'ai remplacé la fonction `print` par `yield`.
- Pour ex2_extraire_pathilb.py, les fonctions d'affichage sont également changées de `print` par les arguments en important le module `argparse`. Cette méthode permet d'obtenir les résultats dont on a besoin selon la choix des arguments lorsqu'on applique le programme depuis le terminal.

***
**ZHANG** : Ayant vu la présentation de la fonction `yield` en Python pendant la séance, j'ai corrigé un peu le script de *extraire_un.py* pour renvoyer dans le résultat un itérateur, qui permettrait de faciliter l'identification du second script.


## 2 avril 2023

**HUANG** : J'ai commencé à extraire les informations et les convertir à un fichier XML comme sortie. 

Il est indispensable d'utiliser le module `etree` pour sortir un fichier xml avec les balises. Ainsi, j'ai essai d'écrire une fonction dédiée à écrire un fichier avec les balises nommées selon le contenu. Et telle est la structure des balises que j'ai créée pour le fichier *sortie.xml*.
    
    Ex. <articles>
            <article>
                <category>
                </category>
                <date>
                </date>
                <title>
                </title>
                <description>
                </description>
            <article>

            <article>
            ...
            </article>
            ...
        </articles>

Avec le module `etree`, j'ai réussi à créer le fichier sortie avec une structure claire de balises, ce qui m'a suscitée à poser la question sur la fonction de json et de pickle dans la construction du fichier xml ?

## 4 avril 2023

**HUANG** : J'ai finalement compris l'utilisation du module `json` pour produire le fihchier xml : ce module sert plutôt d'un intermédiaire entre l'extraction des fichiers xml et la sortie xml. Le résultat de l'extraction peut être d'abord transformer à un fichier json, dont le contenu ressemble beaucoup d'un dictionnaire (voir le script economie.json). Cette étape est réalisée par le script *json.py*.

Après, il faut transformer le fichier json à un fichier xml, ce qu'on attend finalement pour la sortie. Cette partie est élaborée avec le module `etree`, qui constitue la base pour contruire des structures (notamment les balises) des fichiers xml. Cette étape est réalisée par le script *json_xml.py*.

J'ai réparti le travail en deux étapes, parce qu'il serait plus facile à comprendre la procédure des transformations. Dans la branche `hyd-s8`, il existe également deux fichiers d'exemples (pour la catégorie économie).

Cependant, j'ai seulement réussi à produire le fichier xml en demandant la catégorie, pour extraire des informations selon la date (mois et jours), je dois réessayer les fonctions.

